<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Western Frontier - World Map</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <!-- World Map View -->
        <div class="world-map-container" id="worldMapContainer">
            <h1 class="world-map-title">Western Frontier</h1>
            <div class="poptropica-map">
                <!-- Map decorations -->
                <div class="map-decoration map-cloud cloud-1"></div>
                <div class="map-decoration map-cloud cloud-2"></div>
                <div class="map-decoration map-cloud cloud-3"></div>
                <div class="map-decoration map-cloud cloud-4"></div>
                <div class="map-decoration map-wave wave-1"></div>
                <div class="map-decoration map-wave wave-2"></div>
                
                <!-- Blimp -->
                <div class="blimp" id="blimp">
                    <div class="blimp-body"></div>
                    <div class="blimp-gondola"></div>
                </div>
                
                <!-- Islands -->
                <div class="map-island island-1" data-city="1" data-level="0">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="40" width="60" height="60" fill="%23d4af37"/><polygon points="10,40 50,10 90,40" fill="%23b8860b"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Desert Mirage</div>
                    <div class="island-level">Level 0</div>
                </div>
                
                <div class="map-island island-2" data-city="2" data-level="50">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="30" y="30" width="40" height="50" fill="%234285f4"/><polygon points="20,30 50,10 80,30" fill="%233367d6"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Rocket Bay</div>
                    <div class="island-level">Level 50</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-3" data-city="3" data-level="100">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="25" y="40" width="50" height="50" fill="%23ea4335"/><polygon points="15,40 50,15 85,40" fill="%23c5221f"/><circle cx="50" cy="30" r="15" fill="%23fbbc05"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Carnival Core</div>
                    <div class="island-level">Level 100</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-4" data-city="4" data-level="200">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="60" width="60" height="30" fill="%238b4513"/><rect x="35" y="40" width="30" height="20" fill="%23a0522d"/><polygon points="25,40 50,20 75,40" fill="%23654321"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Treehouse Heights</div>
                    <div class="island-level">Level 200</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-5" data-city="5" data-level="300">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="30" y="40" width="40" height="50" fill="%23ffffff"/><polygon points="20,40 50,10 80,40" fill="%23e0e0e0"/><rect x="35" y="50" width="30" height="30" fill="%23bbdefb"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Frostfall Ridge</div>
                    <div class="island-level">Level 300</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-6" data-city="6" data-level="400">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="25" y="50" width="50" height="40" fill="%2334a853"/><polygon points="15,50 50,20 85,50" fill="%232d8e47"/><circle cx="30" cy="60" r="5" fill="%23fbbc05"/><circle cx="50" cy="60" r="5" fill="%23ea4335"/><circle cx="70" cy="60" r="5" fill="%234285f4"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Jungle Reef</div>
                    <div class="island-level">Level 400</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-7" data-city="7" data-level="600">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="30" y="40" width="40" height="50" fill="%235f6368"/><polygon points="20,40 50,10 80,40" fill="%233c4043"/><path d="M35,25 Q50,15 65,25" stroke="%23ffffff" stroke-width="3" fill="none"/><circle cx="40" cy="35" r="3" fill="%23ffffff"/><circle cx="60" cy="35" r="3" fill="%23ffffff"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Haunted Hollow</div>
                    <div class="island-level">Level 600</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-8" data-city="8" data-level="750">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="25" y="30" width="50" height="60" fill="%234285f4"/><polygon points="15,30 50,5 85,30" fill="%233367d6"/><rect x="35" y="40" width="30" height="20" fill="%23ffffff"/><rect x="35" y="65" width="30" height="20" fill="%23ffffff"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Tech Capital</div>
                    <div class="island-level">Level 750</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-9" data-city="9" data-level="900">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="30" y="40" width="40" height="50" fill="%23fbbc05"/><polygon points="20,40 50,10 80,40" fill="%23f9ab00"/><rect x="35" y="50" width="30" height="10" fill="%23ea4335"/><rect x="35" y="65" width="30" height="10" fill="%234285f4"/><rect x="35" y="80" width="30" height="10" fill="%2334a853"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Candy Corners</div>
                    <div class="island-level">Level 900</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
                
                <div class="map-island island-10" data-city="10" data-level="1000">
                    <div class="island-building" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="50" width="60" height="40" fill="%23ea4335"/><polygon points="10,50 50,20 90,50" fill="%23c5221f"/><rect x="40" y="60" width="20" height="20" fill="%23fbbc05"/></svg>'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div>
                    <div class="island-name">Peanuts Pier</div>
                    <div class="island-level">Level 1000</div>
                    <!-- Cloud covering locked island -->
                    <div class="lock-cloud"></div>
                </div>
            </div>
        </div>
        
        <!-- City Scene View -->
        <div class="city-scene-container" id="citySceneContainer">
            <div class="viewport">
                <div class="city-scene" id="cityScene">
                    <!-- Main Character -->
                    <div class="character" id="mainCharacter">
                        <div class="character-legs">
                            <div class="character-leg">
                                <div class="character-foot character-foot-left"></div>
                            </div>
                            <div class="character-leg">
                                <div class="character-foot character-foot-right"></div>
                            </div>
                        </div>
                        <div class="character-body"></div>
                        <div class="character-arm character-arm-left">
                            <div class="character-hand character-hand-left"></div>
                        </div>
                        <div class="character-arm character-arm-right">
                            <div class="character-hand character-hand-right"></div>
                        </div>
                        <div class="character-head">
                            <div class="character-eyes">
                                <div class="character-eye">
                                    <div class="character-iris"></div>
                                    <div class="character-eyelid"></div>
                                </div>
                                <div class="character-eye">
                                    <div class="character-iris"></div>
                                    <div class="character-eyelid"></div>
                                </div>
                            </div>
                            <div class="character-mouth"></div>
                        </div>
                        <div class="character-hair" id="mainCharacterHair"></div>
                    </div>
                    
                    <!-- Interaction Prompt -->
                    <div class="interaction-prompt" id="interactionPrompt">Press E to interact</div>
                    
                    <!-- Roads -->
                    <div class="road road-horizontal" style="top: 35%; left: 0; width: 100%;">
                        <!-- Road lines -->
                        <div class="road-line road-line-horizontal" style="left: 10%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 20%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 30%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 40%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 50%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 60%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 70%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 80%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 90%;"></div>
                    </div>
                    <div class="road road-horizontal" style="top: 65%; left: 0; width: 100%;">
                        <!-- Road lines -->
                        <div class="road-line road-line-horizontal" style="left: 10%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 20%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 30%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 40%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 50%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 60%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 70%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 80%;"></div>
                        <div class="road-line road-line-horizontal" style="left: 90%;"></div>
                    </div>
                    <div class="road road-vertical" style="top: 0; left: 35%; height: 100%;">
                        <!-- Road lines -->
                        <div class="road-line road-line-vertical" style="top: 10%;"></div>
                        <div class="road-line road-line-vertical" style="top: 20%;"></div>
                        <div class="road-line road-line-vertical" style="top: 30%;"></div>
                        <div class="road-line road-line-vertical" style="top: 40%;"></div>
                        <div class="road-line road-line-vertical" style="top: 50%;"></div>
                        <div class="road-line road-line-vertical" style="top: 60%;"></div>
                        <div class="road-line road-line-vertical" style="top: 70%;"></div>
                        <div class="road-line road-line-vertical" style="top: 80%;"></div>
                        <div class="road-line road-line-vertical" style="top: 90%;"></div>
                    </div>
                    <div class="road road-vertical" style="top: 0; left: 65%; height: 100%;">
                        <!-- Road lines -->
                        <div class="road-line road-line-vertical" style="top: 10%;"></div>
                        <div class="road-line road-line-vertical" style="top: 20%;"></div>
                        <div class="road-line road-line-vertical" style="top: 30%;"></div>
                        <div class="road-line road-line-vertical" style="top: 40%;"></div>
                        <div class="road-line road-line-vertical" style="top: 50%;"></div>
                        <div class="road-line road-line-vertical" style="top: 60%;"></div>
                        <div class="road-line road-line-vertical" style="top: 70%;"></div>
                        <div class="road-line road-line-vertical" style="top: 80%;"></div>
                        <div class="road-line road-line-vertical" style="top: 90%;"></div>
                    </div>
                    
                    <!-- Crossroads -->
                    <div class="crossroad" style="top: 35%; left: 35%;"></div>
                    <div class="crossroad" style="top: 35%; left: 65%;"></div>
                    <div class="crossroad" style="top: 65%; left: 35%;"></div>
                    <div class="crossroad" style="top: 65%; left: 65%;"></div>
                    
                    <!-- River -->
                    <div class="river" style="top: 20%; left: 0; width: 100%; height: 5%;"></div>
                    
                    <!-- Pixel-style Trees -->
                    <div class="pixel-tree" style="top: 10%; left: 10%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 15%; left: 25%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 25%; left: 40%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 18%; left: 60%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 22%; left: 75%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 15%; left: 90%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 45%; left: 5%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 50%; left: 15%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 55%; left: 30%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 60%; left: 45%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 65%; left: 60%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 70%; left: 75%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 75%; left: 85%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 80%; left: 20%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 85%; left: 40%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    <div class="pixel-tree" style="top: 90%; left: 70%;">
                        <div class="pixel-tree-trunk"></div>
                        <div class="pixel-tree-leaves"></div>
                    </div>
                    
                    <!-- Bushes -->
                    <div class="pixel-bush" style="top: 12%; left: 18%;"></div>
                    <div class="pixel-bush" style="top: 28%; left: 35%;"></div>
                    <div class="pixel-bush" style="top: 48%; left: 25%;"></div>
                    <div class="pixel-bush" style="top: 68%; left
